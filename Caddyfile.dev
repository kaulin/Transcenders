{
  # Development Caddy config â€” proxies to the Vite dev server for HMR
  # Keep this file local-only (not used in production). Use `caddy run --config Caddyfile.dev`.
  # Optional: enable local certs if you want https locally
  # local_certs
}

# Site: serve on localhost. Change to a dev hostname if you prefer (example: web.local)
localhost

# Proxy everything to Vite dev server running on 127.0.0.1:5173
reverse_proxy /* 127.0.0.1:5173 {
  header_up Host {host}
  header_up X-Real-IP {remote_host}
  header_up X-Forwarded-For {remote_host}
  header_up X-Forwarded-Proto {scheme}
}

# Example API reverse-proxies for local dev backend services
# Adjust paths to match your frontend's API base paths (VITE_* values)
handle_path /api/user/* {
  reverse_proxy 127.0.0.1:3001
}

handle_path /api/auth/* {
  reverse_proxy 127.0.0.1:3002
}

handle_path /api/score/* {
  reverse_proxy 127.0.0.1:3003
}

# Optional: static file fallback for some specific paths (uncomment if needed)
# try_files {path} /index.html
